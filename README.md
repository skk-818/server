# ðŸ“ é¡¹ç›®ç»“æž„è¯´æ˜Žæ–‡æ¡£

> é¡¹ç›®è¯­è¨€ï¼šGo  
> æž¶æž„é£Žæ ¼ï¼šClean Architecture + Gin + Wire + Usecase åˆ†å±‚ç»“æž„

---

## ðŸ”§ æ ¹ç›®å½•æ–‡ä»¶è¯´æ˜Ž

| æ–‡ä»¶/ç›®å½•     | æè¿° |
|---------------|------|
| `go.mod`      | Go module é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰æ¨¡å—åå’Œä¾èµ–é¡¹ã€‚ |
| `Makefile`    | æž„å»ºã€è¿è¡Œã€æ ¼å¼åŒ–ã€æµ‹è¯•ç­‰å¸¸ç”¨å‘½ä»¤çš„å°è£…è„šæœ¬ã€‚ |
| `cmd/`        | å¯åŠ¨å…¥å£ï¼Œé€šå¸¸ä¸€ä¸ªå­ç›®å½•å¯¹åº”ä¸€ä¸ªæœåŠ¡ã€‚ |
| `etc/`        | é…ç½®æ–‡ä»¶ç›®å½•ï¼Œä¾‹å¦‚ `config.yaml`ã€`.env` ç­‰ã€‚ |
| `router/`     | HTTP è·¯ç”±å®šä¹‰æ¨¡å—ï¼Œå®šä¹‰è·¯ç”±ä¸Žä¸­é—´ä»¶æŒ‚è½½ã€‚ |

---

## ðŸ§© internalï¼ˆæ ¸å¿ƒä¸šåŠ¡ä»£ç ï¼‰

> æŒ‰æ¨¡å—åˆ’åˆ†ï¼Œæ¯ä¸ªæ¨¡å—éµå¾ªæ¸…æ™°çš„åˆ†å±‚è§„èŒƒï¼š`api` â†’ `usecase` â†’ `repo/service` â†’ `model`

### ðŸ“ internal/core

- ç³»ç»Ÿé€šç”¨ç»„ä»¶åˆå§‹åŒ–ï¼Œä¾‹å¦‚æ—¥å¿—ã€é…ç½®ã€æ•°æ®åº“ã€Redis ç­‰ã€‚

### ðŸ“ internal/di

- ä¾èµ–æ³¨å…¥é…ç½®ï¼ˆä½¿ç”¨ [Google Wire](https://github.com/google/wire)ï¼‰
- å®šä¹‰é¡¹ç›®ç»“æž„å›¾åŠæ¨¡å—ä¾èµ–å…³ç³»çš„æ±‡æ€»ã€‚

### ðŸ“ internal/middleware

- æ‰€æœ‰è‡ªå®šä¹‰ä¸­é—´ä»¶ï¼š
    - JWT æ ¡éªŒ
    - CORS å¤„ç†
    - é”™è¯¯ç»Ÿä¸€å¤„ç†ç­‰

---

## ðŸ“ internal/module æ¨¡å—åˆ’åˆ†

### ðŸ“‚ module/common

| å­ç›®å½•      | æè¿° |
|-------------|------|
| `api/`      | é€šç”¨çš„å…¬å…±æŽ¥å£ï¼Œä¾‹å¦‚ä¸Šä¼ ã€å¥åº·æ£€æŸ¥ç­‰ã€‚ |
| `model/`    | é€šç”¨çš„æ•°æ®ç»“æž„å®šä¹‰ï¼ˆDTO/VO/Entityï¼‰ã€‚ |
| `usecase/`  | å…¬å…±ä¸šåŠ¡é€»è¾‘å®žçŽ°ï¼ˆå¯ä¾› system ç­‰æ¨¡å—è°ƒç”¨ï¼‰ã€‚ |

### ðŸ“‚ module/system

| å­ç›®å½•      | æè¿° |
|-------------|------|
| `api/`      | æŽ§åˆ¶å™¨å±‚ï¼Œå¤„ç†è·¯ç”±è¯·æ±‚ï¼ˆå¦‚ç”¨æˆ·ã€æƒé™ã€è§’è‰²ï¼‰ã€‚ |
| `model/`    | å®šä¹‰ä¸Žæ•°æ®åº“ç»“æž„ç›¸å…³çš„æ¨¡åž‹ï¼Œä»¥åŠä¸šåŠ¡å®žä½“ã€‚ |
| `repo/`     | Repository å±‚ï¼Œæ•°æ®è®¿é—®å°è£…ï¼ˆæŽ¥å£ + å®žçŽ°ï¼‰ã€‚ |
| `service/`  | ä¸šåŠ¡æœåŠ¡ç±»ï¼Œå¤„ç†éžæŒä¹…åŒ–é€»è¾‘ï¼ˆå¦‚é‚®ä»¶ã€åŠ å¯†ã€ç¼“å­˜ï¼‰ã€‚ |
| `usecase/`  | æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å±‚ï¼Œåè°ƒ `repo` å’Œ `service` æ‰§è¡Œå®Œæ•´æµç¨‹ã€‚ |

---

## ðŸ“ pkgï¼ˆé€šç”¨å·¥å…·åŒ…ï¼‰

| å­ç›®å½•       | æè¿° |
|--------------|------|
| `jwt/`       | JWT Token å°è£…ï¼Œæ”¯æŒç”Ÿæˆã€æ ¡éªŒã€åˆ·æ–°ç­‰æ“ä½œã€‚ |
| `response/`  | å“åº”å°è£…ï¼Œæä¾›ç»Ÿä¸€ç»“æž„å’Œä¾¿æ·å‡½æ•°ï¼š`Success`ã€`Error` ç­‰ã€‚ |
| `xerror/`    | è‡ªå®šä¹‰é”™è¯¯ç±»åž‹åŠå…¨å±€é”™è¯¯ç ï¼ˆå…­ä½ç¼–ç è§„èŒƒï¼‰ã€‚ |

---

## ðŸ“Š æ¨¡å—ä¾èµ–æ–¹å‘å»ºè®®

```text
api -> usecase -> service/repo -> model
                    â†‘
                 common/usecase å¯å¤ç”¨è°ƒç”¨

```

## ðŸ“Š usecase åŒå±‚è°ƒç”¨å»ºè®® 

```text
éžå¿…è¦ åŒå±‚ä¸æŽ¨èè°ƒç”¨ï¼Œå¿…è¦æ—¶è°ƒç”¨è¯·åœ¨æä¾›æ–¹ usecase äº§å‡ºè°ƒç”¨æŽ¥å£ï¼Œä½¿ç”¨æ–¹å€ŸåŠ©æŽ¥å£è°ƒç”¨ï¼Œå¹¶ä½¿ç”¨ wire æ³¨å…¥ç»‘å®šå…³ç³» 
usecase ->  usecase interface{}
                â†‘
        ->  usecase
```